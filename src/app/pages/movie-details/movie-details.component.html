<div class="hero-section" [style.backgroundImage]="getHeroImage()">
  <div class="hero-overlay"></div>
  <div *ngIf="movie" class="details-container">
    <img
      [src]="'https://image.tmdb.org/t/p/w500' + movie.poster_path"
      [alt]="movie.title"
      class="details-poster"
    />

    <div class="details-info">
      <h1>{{ movie.title }}</h1>
      <p class="tagline">{{ movie.tagline }}</p>

      <h2>Sinopse</h2>
      <p>{{ movie.overview }}</p>

      <div class="info-pills">
        <span>Lançamento: {{ movie.release_date | date : "dd/MM/yyyy" }}</span>
        <span>Duração: {{ movie.runtime }} min</span>
        <span>Nota: {{ movie.vote_average | number : "1.1-1" }}</span>
      </div>

      <button class="watchlist-btn" (click)="toggleWatchlist()">
        <span *ngIf="!isInWatchlist">+ Adicionar à minha lista</span>
        <span *ngIf="isInWatchlist">✓ Remover da lista</span>
      </button>

      <div *ngIf="cast.length > 0" class="cast-section">
        <h2>Elenco Principal</h2>
        <div class="cast-container">
          <div *ngFor="let actor of cast" class="cast-member">
            <img
              [src]="'https://image.tmdb.org/t/p/w185' + actor.profile_path"
              [alt]="actor.name"
              class="actor-photo"
            />
            <p class="actor-name">{{ actor.name }}</p>
            <p class="character-name">{{ actor.character }}</p>
          </div>
        </div>
      </div>

      <div *ngIf="watchProviders" class="providers-section">
        <h2>Onde Assistir</h2>
        <div *ngIf="watchProviders.flatrate as providers">
          <h3>Disponível na sua assinatura:</h3>
          <div class="providers-list">
            <div *ngFor="let provider of providers" class="provider-item">
              <img
                [src]="'https://image.tmdb.org/t/p/w92' + provider.logo_path"
                [alt]="provider.provider_name"
                [title]="provider.provider_name"
              />
            </div>
          </div>
        </div>

        <div *ngIf="watchProviders.rent as providers">
          <h3>Para Alugar:</h3>
          <div class="providers-list">
            <div *ngFor="let provider of providers" class="provider-item">
              <img
                [src]="'https://image.tmdb.org/t/p/w92' + provider.logo_path"
                [alt]="provider.provider_name"
                [title]="provider.provider_name"
              />
            </div>
          </div>
        </div>

        <div *ngIf="watchProviders.buy as providers">
          <h3>Para Comprar:</h3>
          <div class="providers-list">
            <div *ngFor="let provider of providers" class="provider-item">
              <img
                [src]="'https://image.tmdb.org/t/p/w92' + provider.logo_path"
                [alt]="provider.provider_name"
                [title]="provider.provider_name"
              />
            </div>
          </div>
        </div>

        <p *ngIf="!hasWatchProviders" class="no-providers-message">
          Não encontramos informações de streaming para este filme no Brasil.
        </p>
      </div>
    </div>
  </div>
  <div *ngIf="!movie" class="loading-message">
    <p>Carregando detalhes do filme...</p>
  </div>
</div>
